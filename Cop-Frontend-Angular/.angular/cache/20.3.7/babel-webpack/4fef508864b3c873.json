{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { ReactiveFormsModule, FormBuilder, Validators } from '@angular/forms';\nimport { CitasService } from '../../core/services/citas.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/table\";\nimport * as i2 from \"@angular/material/form-field\";\nimport * as i3 from \"@angular/material/input\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/forms\";\nfunction CitaPageComponent_th_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Fecha \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CitaPageComponent_td_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", c_r1.fecha, \" \");\n  }\n}\nfunction CitaPageComponent_th_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Hora \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CitaPageComponent_td_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", c_r2.hora, \" \");\n  }\n}\nfunction CitaPageComponent_th_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Direcci\\u00F3n \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CitaPageComponent_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", c_r3.direccion, \" \");\n  }\n}\nfunction CitaPageComponent_th_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Paciente \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CitaPageComponent_td_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", c_r4.pacienteId, \" \");\n  }\n}\nfunction CitaPageComponent_th_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" M\\u00E9dico \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CitaPageComponent_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", c_r5.medicoId, \" \");\n  }\n}\nfunction CitaPageComponent_tr_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 21);\n  }\n}\nfunction CitaPageComponent_tr_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\nexport let CitaPageComponent = /*#__PURE__*/(() => {\n  class CitaPageComponent {\n    citasService = inject(CitasService);\n    fb = inject(FormBuilder);\n    citas = [];\n    displayedColumns = ['fecha', 'hora', 'direccion', 'pacienteId', 'medicoId'];\n    form = this.fb.group({\n      fecha: ['', Validators.required],\n      hora: ['', Validators.required],\n      direccion: ['', Validators.required],\n      pacienteId: [null, Validators.required],\n      medicoId: [null, Validators.required]\n    });\n    constructor() {\n      this.cargar();\n    }\n    cargar() {\n      this.citasService.list().subscribe({\n        next: data => this.citas = data,\n        error: () => this.citas = []\n      });\n    }\n    guardar() {\n      if (this.form.invalid) return;\n      const cita = this.form.value;\n      this.citasService.create(cita).subscribe({\n        next: _ => {\n          this.form.reset();\n          this.cargar();\n        },\n        error: err => console.error(err)\n      });\n    }\n    static ɵfac = function CitaPageComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CitaPageComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CitaPageComponent,\n      selectors: [[\"app-cita-page\"]],\n      decls: 45,\n      vars: 5,\n      consts: [[2, \"display\", \"grid\", \"grid-template-columns\", \"1fr 1fr\", \"gap\", \"24px\"], [3, \"ngSubmit\", \"formGroup\"], [\"appearance\", \"outline\", 1, \"w-100\"], [\"matInput\", \"\", \"formControlName\", \"fecha\", \"placeholder\", \"2025-10-22\"], [\"matInput\", \"\", \"formControlName\", \"hora\", \"placeholder\", \"14:30\"], [\"matInput\", \"\", \"formControlName\", \"direccion\", \"placeholder\", \"Calle 123 #45-67\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"pacienteId\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"medicoId\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [\"mat-table\", \"\", 1, \"mat-elevation-z2\", 2, \"width\", \"100%\", 3, \"dataSource\"], [\"matColumnDef\", \"fecha\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"hora\"], [\"matColumnDef\", \"direccion\"], [\"matColumnDef\", \"pacienteId\"], [\"matColumnDef\", \"medicoId\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function CitaPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"Gesti\\u00F3n de Citas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"section\", 0)(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function CitaPageComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.guardar();\n          });\n          i0.ɵɵelementStart(4, \"mat-form-field\", 2)(5, \"mat-label\");\n          i0.ɵɵtext(6, \"Fecha (YYYY-MM-DD)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"mat-form-field\", 2)(9, \"mat-label\");\n          i0.ɵɵtext(10, \"Hora (HH:mm)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"mat-form-field\", 2)(13, \"mat-label\");\n          i0.ɵɵtext(14, \"Direcci\\u00F3n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(15, \"input\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"mat-form-field\", 2)(17, \"mat-label\");\n          i0.ɵɵtext(18, \"ID Paciente\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(19, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"mat-form-field\", 2)(21, \"mat-label\");\n          i0.ɵɵtext(22, \"ID M\\u00E9dico\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(23, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 8);\n          i0.ɵɵtext(25, \"Guardar\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\")(27, \"table\", 9);\n          i0.ɵɵelementContainerStart(28, 10);\n          i0.ɵɵtemplate(29, CitaPageComponent_th_29_Template, 2, 0, \"th\", 11)(30, CitaPageComponent_td_30_Template, 2, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(31, 13);\n          i0.ɵɵtemplate(32, CitaPageComponent_th_32_Template, 2, 0, \"th\", 11)(33, CitaPageComponent_td_33_Template, 2, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(34, 14);\n          i0.ɵɵtemplate(35, CitaPageComponent_th_35_Template, 2, 0, \"th\", 11)(36, CitaPageComponent_td_36_Template, 2, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(37, 15);\n          i0.ɵɵtemplate(38, CitaPageComponent_th_38_Template, 2, 0, \"th\", 11)(39, CitaPageComponent_td_39_Template, 2, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(40, 16);\n          i0.ɵɵtemplate(41, CitaPageComponent_th_41_Template, 2, 0, \"th\", 11)(42, CitaPageComponent_td_42_Template, 2, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(43, CitaPageComponent_tr_43_Template, 1, 0, \"tr\", 17)(44, CitaPageComponent_tr_44_Template, 1, 0, \"tr\", 18);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(21);\n          i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"dataSource\", ctx.citas);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        }\n      },\n      dependencies: [CommonModule, MatTableModule, i1.MatTable, i1.MatHeaderCellDef, i1.MatHeaderRowDef, i1.MatColumnDef, i1.MatCellDef, i1.MatRowDef, i1.MatHeaderCell, i1.MatCell, i1.MatHeaderRow, i1.MatRow, MatFormFieldModule, i2.MatFormField, i2.MatLabel, MatInputModule, i3.MatInput, MatButtonModule, i4.MatButton, ReactiveFormsModule, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName],\n      encapsulation: 2\n    });\n  }\n  return CitaPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}